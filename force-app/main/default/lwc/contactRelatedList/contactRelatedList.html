<!--
  @description       : 
  @author            : yeonji.lim@dkbmc.com
  @group             : 
  @last modified on  : 09-05-2023
  @last modified by  : yeonji.lim@dkbmc.com
-->
<template>
    <article class="slds-card slds-card_boundary">
        <div class="slds-card__header slds-grid" style="background-color: #f3f2f2; margin-bottom: -12px; padding-bottom: 12px;">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <lightning-icon icon-name="custom:custom99" title="custom99" size="small"></lightning-icon>
                </div>

                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <a href="#" class="slds-card__header-link slds-truncate" title="aContacts">
                            <span>aContacts ({aContactListlength})</span>
                        </a>
                    </h2>
                </div>

                <div class="slds-no-flex">
                    <button class="slds-button slds-button_neutral" onclick={NewaContact}>New</button>
                </div>
            </header>
        </div>

        <div class="slds-card__body slds-card__body_inner" style="display: flex; justify-content: space-between; flex-wrap:wrap">
            <!-- 카드 하나 -->
            <template for:each={aContactList} for:index="index" for:item="aCon">
                <ul class="slds-grid slds-wrap slds-grid_pull-padded" key={aCon.Id}>
                    <li class="slds-p-horizontal_small slds-size_1-of-1">
                        <article class="slds-tile slds-media slds-card__tile slds-hint-parent">
                            <div class="slds-media__figure">
                                <lightning-icon icon-name="custom:custom99" title="custom99" size="medium"></lightning-icon>
                            </div>

                            <div class="slds-media__body">
                                <div class="slds-grid slds-grid_align-spread slds-has-flexi-truncate">
                                    <h3 class="slds-tile__title slds-truncate">
                                        <a href="#">{aCon.Name}</a>
                                    </h3>
                                    <div class="lgc-bg slds-button_icon-x-small">
                                        <lightning-button-menu alternative-text="Show menu" icon-size="small">
                                            <lightning-menu-item value="Edit" label="Edit" onclick={recordEdit} data-msg={aCon.Id}></lightning-menu-item>
                                            <lightning-menu-item value="Delete" label="Delete" onclick={recordDelete} data-msg={aCon.Id}></lightning-menu-item>
                                        </lightning-button-menu>
                                    </div>
                                </div>
                                
                                <div class="slds-tile__detail">
                                    <dl class="slds-list_horizontal slds-wrap">
                                        <dt class="slds-item_label slds-text-color_weak slds-truncate" title="First Label">Title:</dt>
                                        <dd class="slds-item_detail slds-truncate" title="Description for first label">{aCon.Title__c}</dd>
                                        <dt class="slds-item_label slds-text-color_weak slds-truncate" title="Second Label">Email:</dt>
                                        <dd class="slds-item_detail slds-truncate" title="Description for second label">{aCon.Email__c}</dd>
                                        <dt class="slds-item_label slds-text-color_weak slds-truncate" title="Second Label">Phone:</dt>
                                        <dd class="slds-item_detail slds-truncate" title="Description for second label">{aCon.Phone__c}</dd>
                                    </dl>
                                </div>
                            </div>
                        </article>
                    </li>
                </ul>
            </template>
            
        </div>

        <!-- footer -->
        <footer class="slds-card__footer">
            <a class="slds-card__footer-action" href={viewAllUrl}>View All</a>
            <!-- <a class="slds-card__footer-action" href="javascript:void(0)" onclick={generateViewAllUrl}>View All</a> -->
        </footer>

        <!-- New Contact Modal -->
        <template if:true={aContactModal}>
            <c-relateda-contact-modal oncloseevent={closeModal} record-id={recordId}></c-relateda-contact-modal>
        </template>

    </article>
</template>